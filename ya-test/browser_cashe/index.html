<!DOCTYPE html>
<!-- Copyright 2020 Yandex LLC. All rights reserved. -->
<html>

<head>
    <meta name="apple-itunes-app">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum=1.0,user-scalable=no">
    <style type="text/css">
    body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: small;
    }
    </style>
</head>

<body>
        <button onclick = "changeText('newText')">Change text</button>
        <span id = "text">oldText</span>
        <script>

    function changeText(text) {
        const demo_text = localStorage.getItem("text")
              textElement = document.getElementById("text"); 

        if(demo_text) { // если переменная содержит значение по указанному ключу (не равна null)
            textElement.innerHTML = demo_text; // изменяем содержимое элемента
        } else {

        try { // пытаемся выполнить код
          localStorage.setItem("text", text); // добавляем ключ с произвольным строковым значением 
          textElement.innerHTML = text; // изменяем содержимое элемента
        } catch (error) { // перехватываем и обрабатываем ошибку
          textElement.innerHTML = "Произошла ошибка " + error.message; // изменяем содержимое элемента
        }
    }
}
        </script>
    </body>
</html>